domain: domain.tech

deploy:
  - name: repo-name1
    components:
      - name: web
        chart: ./charts/web
        needs:
          - static
        version: commit
      - name: static
        version: release
        repo: repo-name2
      - name: api
        chart: ./charts/web.api
        needs:
          - db
        version: commit
      - name: db
        version: data
  - name: repo-name2
    components:
      - name: web
        chart: ./charts/web
        needs:
          - static
        version: release
      - name: static
        version: release
      - name: api
        chart: ./charts/web.api
        needs:
          - db
        version: commit
      - name: db
        version: data

versions:
  - name: commit
    description: latest commit made in the repo (default value)
  - name: release
    description: latest release from the repo
  - name: ^.+$
    description: predefined version
